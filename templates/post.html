{% extends "base.html" %}
{% block main %}
<article class="post">
<h1>{{ post.title }}</h1>
<p class="muted">{{ post.date }}{% if post.tags %} · {{ post.tags|join(", ") }}{% endif %}</p>


{% for s in post.sections %}
{% if s.type == "p" %}
<p>{{ s.text }}</p>
{% elif s.type == "expander" %}
{% set id = "exp-" ~ loop.index %}
<button class="expander" aria-expanded="false" aria-controls="{{ id }}">
<span class="chevron" aria-hidden="true">▸</span>
<span class="sr-only">{{ s.label }}</span>
</button>
<div id="{{ id }}" class="expando" hidden>
<p>{{ s.content }}</p>
</div>
{% endif %}
{% endfor %}
</article>
{% endblock %}